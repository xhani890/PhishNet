# PhishNet Architecture & Workflow Documentation

## ğŸ“Š Complete Application Architecture

### System Overview
PhishNet is a comprehensive phishing simulation platform designed to help organizations test and improve their cybersecurity awareness through controlled phishing campaigns.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             CLIENT LAYER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Dashboard â”‚    â”‚ Campaign   â”‚    â”‚ Template    â”‚    â”‚ Analytics &     â”‚     â”‚
â”‚  â”‚ UI        â”‚    â”‚ Management â”‚    â”‚ Editor      â”‚    â”‚ Reporting       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚          â”‚              â”‚                 â”‚                    â”‚               â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                   â”‚                                            â”‚
â”‚                     React + Vite + TailwindCSS Frontend                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ HTTP/HTTPS API Requests (RESTful + WebSocket)
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MIDDLEWARE LAYER                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Rate Limiter â”‚   â”‚ CORS Handler â”‚   â”‚ Auth Guard   â”‚   â”‚ Request Logger  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             SERVER LAYER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Auth      â”‚    â”‚ Campaign   â”‚    â”‚ Email       â”‚    â”‚ Analytics       â”‚     â”‚
â”‚  â”‚ Service   â”‚â—„â”€â”€â–ºâ”‚ Service    â”‚â—„â”€â”€â–ºâ”‚ Service     â”‚â—„â”€â”€â–ºâ”‚ Service         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚          â”‚                â”‚                â”‚                      â”‚            â”‚
â”‚          â–¼                â–¼                â–¼                      â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ User Mgmt â”‚    â”‚ Template   â”‚    â”‚ SMTP        â”‚    â”‚ Reporting       â”‚     â”‚
â”‚  â”‚ Service   â”‚    â”‚ Service    â”‚    â”‚ Handler     â”‚    â”‚ Service         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                â”‚
â”‚                     Express/Node.js + TypeScript API Layer                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Database Operations (Drizzle ORM)
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DATABASE LAYER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                         PostgreSQL Database                          â”‚       â”‚
â”‚  â”‚                                                                      â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚
â”‚  â”‚  â”‚ Users &     â”‚ â”‚ Campaigns & â”‚ â”‚ Templates  â”‚ â”‚ Analytics &    â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ Roles       â”‚ â”‚ Targets     â”‚ â”‚ & Assets   â”‚ â”‚ Results        â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
â”‚  â”‚                                                                      â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚
â”‚  â”‚  â”‚ Sessions &  â”‚ â”‚ Organizationsâ”‚ â”‚ Email      â”‚ â”‚ Audit Logs &   â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ Tokens      â”‚ â”‚ & Groups    â”‚ â”‚ Templates  â”‚ â”‚ Activity       â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXTERNAL SERVICES                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SMTP Server   â”‚      â”‚ Click Tracking    â”‚      â”‚ Landing Pages &         â”‚ â”‚
â”‚  â”‚ â€¢ Gmail SMTP  â”‚      â”‚ â€¢ Webhook Handler â”‚      â”‚ â€¢ Dynamic Templates    â”‚ â”‚
â”‚  â”‚ â€¢ Custom SMTP â”‚      â”‚ â€¢ Analytics       â”‚      â”‚ â€¢ Secure Hosting       â”‚ â”‚
â”‚  â”‚ â€¢ SendGrid    â”‚      â”‚ â€¢ Real-time Stats â”‚      â”‚ â€¢ SSL/TLS Support      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Complete User Journey Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. USER LOGIN â”‚ â”€â”€â”€â–º â”‚ 2. DASHBOARD   â”‚ â”€â”€â”€â–º â”‚ 3. CREATE       â”‚ â”€â”€â”€â–º â”‚ 4. TARGET      â”‚
â”‚ â€¢ Username    â”‚      â”‚ â€¢ Campaign     â”‚      â”‚ CAMPAIGN        â”‚      â”‚ SELECTION      â”‚
â”‚ â€¢ Password    â”‚      â”‚   Overview     â”‚      â”‚ â€¢ Name & Desc   â”‚      â”‚ â€¢ Import CSV   â”‚
â”‚ â€¢ 2FA (opt)   â”‚      â”‚ â€¢ Recent Stats â”‚      â”‚ â€¢ Schedule      â”‚      â”‚ â€¢ Manual Entry â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                â”‚
                                                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. REPORTING  â”‚ â—„â”€â”€â”€ â”‚ 7. MONITORING  â”‚ â—„â”€â”€â”€ â”‚ 6. EMAIL        â”‚ â—„â”€â”€â”€ â”‚ 5. TEMPLATE    â”‚
â”‚ â€¢ Success Rateâ”‚      â”‚ â€¢ Real-time    â”‚      â”‚ DELIVERY        â”‚      â”‚ SELECTION      â”‚
â”‚ â€¢ Click Rate  â”‚      â”‚   Tracking     â”‚      â”‚ â€¢ SMTP Send     â”‚      â”‚ â€¢ Pre-built    â”‚
â”‚ â€¢ User Scores â”‚      â”‚ â€¢ Live Updates â”‚      â”‚ â€¢ Delivery      â”‚      â”‚ â€¢ Custom       â”‚
â”‚ â€¢ Export Data â”‚      â”‚ â€¢ Notificationsâ”‚      â”‚   Status        â”‚      â”‚ â€¢ Preview      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ Data Flow Architecture

### 1. Authentication Flow
```
User Input â†’ Frontend Validation â†’ API Request â†’ Auth Service â†’ JWT Generation â†’ Response
    â†“
Database Check â†’ Password Verification â†’ Session Creation â†’ Token Storage
```

### 2. Campaign Creation Flow
```
Campaign Data â†’ Frontend Form â†’ API Validation â†’ Campaign Service â†’ Database Storage
    â†“
Template Association â†’ Target List Processing â†’ Schedule Setup â†’ Queue Creation
```

### 3. Email Delivery Flow
```
Campaign Trigger â†’ Email Service â†’ Template Rendering â†’ SMTP Configuration â†’ Send Queue
    â†“
Delivery Status â†’ Tracking Links â†’ Analytics Collection â†’ Database Update
```

### 4. Analytics & Reporting Flow
```
User Interaction â†’ Click Tracking â†’ Event Processing â†’ Data Aggregation â†’ Report Generation
    â†“
Real-time Updates â†’ Dashboard Refresh â†’ Notification System â†’ Export Options
```

## ğŸ—ï¸ Technical Architecture Details

### Frontend Components (React + TypeScript)
```typescript
// Component Structure
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ OverviewCards.tsx
â”‚   â”‚   â”œâ”€â”€ RecentCampaigns.tsx
â”‚   â”‚   â””â”€â”€ QuickStats.tsx
â”‚   â”œâ”€â”€ Campaigns/
â”‚   â”‚   â”œâ”€â”€ CampaignForm.tsx
â”‚   â”‚   â”œâ”€â”€ CampaignList.tsx
â”‚   â”‚   â””â”€â”€ CampaignDetails.tsx
â”‚   â”œâ”€â”€ Templates/
â”‚   â”‚   â”œâ”€â”€ TemplateEditor.tsx
â”‚   â”‚   â”œâ”€â”€ TemplatePreview.tsx
â”‚   â”‚   â””â”€â”€ TemplateLibrary.tsx
â”‚   â””â”€â”€ Analytics/
â”‚       â”œâ”€â”€ ChartComponents.tsx
â”‚       â”œâ”€â”€ ReportGenerator.tsx
â”‚       â””â”€â”€ DataExporter.tsx
```

### Backend Services (Node.js + Express)
```typescript
// Service Architecture
server/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ authController.ts
â”‚   â”œâ”€â”€ authService.ts
â”‚   â””â”€â”€ authMiddleware.ts
â”œâ”€â”€ campaigns/
â”‚   â”œâ”€â”€ campaignController.ts
â”‚   â”œâ”€â”€ campaignService.ts
â”‚   â””â”€â”€ campaignValidator.ts
â”œâ”€â”€ email/
â”‚   â”œâ”€â”€ emailController.ts
â”‚   â”œâ”€â”€ emailService.ts
â”‚   â””â”€â”€ smtpConfig.ts
â””â”€â”€ analytics/
    â”œâ”€â”€ analyticsController.ts
    â”œâ”€â”€ analyticsService.ts
    â””â”€â”€ reportGenerator.ts
```

### Database Schema (PostgreSQL)
```sql
-- Core Tables
users (id, email, password_hash, role, created_at)
organizations (id, name, domain, settings, created_at)
campaigns (id, name, description, status, scheduled_at, created_by)
templates (id, name, type, content, metadata, created_by)
targets (id, campaign_id, email, first_name, last_name, status)
results (id, target_id, event_type, timestamp, metadata)
```

## ğŸš€ Git Workflow & Branching Strategy

### Branch Structure
```
main (production-ready)
â”œâ”€â”€ develop (integration branch)
â”‚   â”œâ”€â”€ feature/dashboard-redesign
â”‚   â”œâ”€â”€ feature/email-templates
â”‚   â”œâ”€â”€ feature/analytics-dashboard
â”‚   â””â”€â”€ feature/user-management
â”œâ”€â”€ release/v1.2.0 (release preparation)
â””â”€â”€ hotfix/security-patch (emergency fixes)
```

### Development Workflow
1. **Feature Development**
   ```bash
   git checkout develop
   git pull origin develop
   git checkout -b feature/new-feature-name
   # Development work
   git commit -m "feat: add new feature"
   git push origin feature/new-feature-name
   # Create Pull Request to develop
   ```

2. **Code Review Process**
   - Minimum 2 reviewers required
   - Automated tests must pass
   - Security scan must pass
   - Documentation updated

3. **Release Process**
   ```bash
   git checkout develop
   git checkout -b release/v1.2.0
   # Version bump, final testing
   git checkout main
   git merge release/v1.2.0
   git tag v1.2.0
   git push origin main --tags
   ```

## ğŸ” Security Architecture

### Security Layers
1. **Frontend Security**
   - Input validation
   - XSS protection
   - CSRF tokens
   - Secure storage

2. **API Security**
   - JWT authentication
   - Rate limiting
   - Input sanitization
   - SQL injection prevention

3. **Database Security**
   - Encrypted connections
   - Row-level security
   - Audit logging
   - Backup encryption

4. **Infrastructure Security**
   - HTTPS enforcement
   - Environment isolation
   - Secrets management
   - Network security

## ğŸ“Š Performance Optimization

### Frontend Optimization
- Code splitting and lazy loading
- Image optimization
- Bundle size optimization
- Caching strategies

### Backend Optimization
- Database indexing
- Query optimization
- Connection pooling
- Response caching

### Monitoring & Observability
- Application performance monitoring
- Error tracking and logging
- Real-time metrics
- Health checks

## ğŸš€ Deployment Architecture

### Development Environment (Updated)
Native local services only (former devcontainer variant removed Aug 2025).

### Production Environment (Updated)
Deployment recommendations (post-container removal):
1. Native systemd units for app, PostgreSQL, Redis
2. Reverse proxy (Nginx/Traefik) configured manually
3. Managed DB (RDS) optional; update DATABASE_URL accordingly

## ğŸ“ˆ Scalability Considerations

### Horizontal Scaling
- Load balancer configuration
- Database read replicas
- Microservices architecture
- Container orchestration

### Vertical Scaling
- Resource monitoring
- Auto-scaling policies
- Performance tuning
- Capacity planning

This comprehensive architecture documentation provides a complete overview of PhishNet's system design, workflows, and technical implementation details.
